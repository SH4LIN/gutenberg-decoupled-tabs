(()=>{"use strict";var e,t={917:()=>{const e=window.wp.blocks,t=window.wp.element,a=window.wp.blockEditor,l=window.wp.i18n,s=window.wp.components,n=({attributes:e,setAttributes:s})=>{const{tabs:n,selectedTab:r,dropDownLabel:o}=e;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.RichText,{tagName:"label",for:"tabs-selector-control",className:"tabs-selector-label",value:o,isSelected:!0,onChange:e=>{s({dropDownLabel:e})},placeholder:(0,l.__)("Label","decoupled-tabs")}),(0,t.createElement)("div",{className:"tabs-selector-wrapper"},(0,t.createElement)("select",{id:"tabs-selector",className:"tabs-selector",value:r,onChange:e=>{s({selectedTab:e.target.value})}},n.map((e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))))))};n.Save=({attributes:e})=>{const{tabs:l,selectedTab:s,dropDownLabel:n}=e;return(0,t.createElement)(t.Fragment,null,n&&(0,t.createElement)(a.RichText.Content,{tagName:"label",for:"tabs-selector-control",className:"tabs-selector-label",value:n}),(0,t.createElement)("div",{className:"tabs-selector-wrapper"},(0,t.createElement)("select",{className:"tabs-selector",id:"tabs-selector",value:s},l.map((e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))))))};const r=n,o=({attributes:e,setAttributes:a})=>{const{tabs:l,selectedTab:s}=e;return(0,t.createElement)("div",{className:"tabs-selector-list-wrapper"},(0,t.createElement)("ul",{id:"tabs-selector-list",className:"tabs-selector-list"},l.map((e=>(0,t.createElement)("li",{key:e.id},(0,t.createElement)("button",{"data-tab-id":e.id,onClick:()=>a({selectedTab:e.id}),className:s===e.id?"selected":""},e.name))))))};o.Save=({attributes:e})=>{const{tabs:a,selectedTab:l}=e;return(0,t.createElement)("div",{className:"tabs-selector-list-wrapper"},(0,t.createElement)("ul",{id:"tabs-selector-list",className:"tabs-selector-list"},a.map((e=>(0,t.createElement)("li",{key:e.id},(0,t.createElement)("button",{"data-tab-id":e.id,className:l===e.id?"selected":""},e.name))))))};const c=o,d=({type:e,setAttributes:a})=>{const n=[{key:"drop-down",label:(0,l.__)("Drop Down","decoupled-tabs")},{key:"list",label:(0,l.__)("List","decoupled-tabs")}];return(0,t.createElement)(s.DropdownMenu,{label:(0,l.__)("Selector type","decoupled-tabs")},(({onClose:l})=>(0,t.createElement)(s.MenuGroup,null,n.map((n=>(0,t.createElement)(s.MenuItem,{key:n.key,isSelected:e===n.key,onClick:()=>{a({type:n.key}),l()}},n.label))))))};(0,e.registerBlockType)("decoupled-tabs/tabs-selector",{edit:function({attributes:e,setAttributes:n}){const o=(0,t.useRef)(null),i=(0,t.useRef)(null),[u,b]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[E,_]=(0,t.useState)(!1),[v,f]=(0,t.useState)(""),[g,w]=(0,t.useState)(""),[y,k]=(0,t.useState)(!1),{tabs:C,selectedTab:T,type:h,defaultTab:N}=e,x=(0,a.useBlockProps)({"data-selector-type":h});(0,t.useEffect)((()=>{C.length>0&&(T||n({selectedTab:C[0].id}),N||n({defaultTab:C[0].id}))}),[C]);const S=()=>k(!1),B="drop-down"===h?r:c;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.BlockControls,{group:"other"},(0,t.createElement)(s.ToolbarGroup,null,(0,t.createElement)(d,{type:h,setAttributes:n}))),(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(s.PanelBody,{className:"tabs-selector-settings",title:(0,l.__)("Tabs selector settings","decoupled-tabs")},(0,t.createElement)(s.__experimentalInputControl,{value:u,onChange:e=>b(e),label:(0,l.__)("Tab name","decoupled-tabs")}),(0,t.createElement)("p",{ref:o,className:"error-text tab-name-error-text"}),(0,t.createElement)(s.__experimentalInputControl,{value:m,onChange:e=>p(e),label:(0,l.__)("Tab code","decoupled-tabs")}),(0,t.createElement)("p",{ref:i,className:"error-text tab-code-error-text"}),(0,t.createElement)(s.Button,{onClick:()=>{if(!o?.current||!i?.current)return;let e=!1;if(""===u?(o.current.textContent=(0,l.__)("Tab name is required","decoupled-tabs"),e=!0):o.current.textContent="",""===m?(i.current.textContent=(0,l.__)("Tab Code is required","decoupled-tabs"),e=!0):i.current.textContent="",e)return;if(C.find((e=>e.id.toLowerCase()===m.toLowerCase()&&m.toLowerCase()!==g.toLowerCase())))return void(i.current.textContent=(0,l.__)("Tab Code already exists","decoupled-tabs"));const t=m,a={oldId:E?g:"",id:t,name:u,isEditing:!1};let s;E?(s=C.map((e=>e.id===g?a:e)),N===g&&n({defaultTab:t}),T===g&&n({selectedTab:t})):(s=[...C,a],n({selectedTab:t})),n({tabs:s}),E&&(_(!1),w("")),b(""),p("")},isPrimary:!0},E?(0,l.__)("Save","decoupled-tabs"):(0,l.__)("Add","decoupled-tabs"))),T&&(0,t.createElement)(s.PanelBody,{title:(0,l.__)("Tab specific settings","decoupled-tabs")},(()=>{const e=C.find((e=>e.id===T));return(0,t.createElement)("div",{key:e.id,className:"tab"+(e.isEditing?" is-editing":"")},(0,t.createElement)("p",{className:"tab-name"},e.name," ",`(${e.id})`),(0,t.createElement)("div",{className:"tab-actions"},(0,t.createElement)(s.IconButton,{icon:"block-default",text:(0,l.__)("Default","decoupled-tabs"),label:(0,l.__)("Set as Default","decoupled-tabs"),onClick:()=>{n({defaultTab:e.id})},variant:"primary",disabled:e.isEditing||e.id===N}),(0,t.createElement)(s.IconButton,{icon:"edit",variant:"secondary",label:(0,l.__)("Edit","decoupled-tabs"),onClick:()=>(e=>{const t=C.find((t=>t.id===e));b(t.name),p(t.id),n({tabs:C.map((t=>t.id===e?{...t,isEditing:!0}:{...t,isEditing:!1}))}),_(!0),w(e)})(e.id),disabled:e.isEditing}),(0,t.createElement)(s.IconButton,{icon:"trash",onClick:()=>{return t=e.id,f(t),void k(!0);var t},label:(0,l.__)("Delete","decoupled-tabs"),disabled:e.isEditing,isDestructive:!0})))})()),(0,t.createElement)(s.PanelBody,{title:(0,l.__)("Tabs","decoupled-tabs"),initialOpen:!1},C.length<1?(0,t.createElement)("p",null,(0,l.__)("No tab added","decoupled-tabs")):(0,t.createElement)("div",{className:"tabs-selector-list"},C.map((e=>(0,t.createElement)("div",{key:e.id,className:"tab"+(e.isEditing?" is-editing":"")},(0,t.createElement)("p",{className:"tab-name"},e.name," ",`(${e.id})`," ",N===e.id?(0,l.__)(" - Default","decoupled-tabs"):""," "))))))),y&&(0,t.createElement)(s.Modal,{title:(0,l.__)(" Warning","decoupled-tabs"),onRequestClose:S},(0,t.createElement)("p",null,(0,l.__)("Removing particular tab will also remove it's respective content from the page","decoupled-tabs")),(0,t.createElement)("p",null,(0,l.__)("Are you sure you want to remove this tab?","decoupled-tabs")),(0,t.createElement)(s.Button,{variant:"secondary",onClick:S},(0,l.__)("No","decoupled-tabs")),(0,t.createElement)(s.Button,{isDestructive:!0,onClick:()=>{v&&(n({tabs:C.filter((e=>e.id!==v)),defaultTab:N===v?"":N,selectedTab:T===v?"":T}),f("")),S()}},(0,l.__)("Yes","decoupled-tabs"))),(0,t.createElement)("div",x,!C||C.length<1?(0,t.createElement)((()=>(0,t.createElement)("p",null,(0,l.__)("Please add tabs","decoupled-tabs"))),null):(0,t.createElement)(B,{attributes:e,setAttributes:n})))},save:function({attributes:e}){const{tabs:l,type:s}=e,n=a.useBlockProps.save({"data-selector-type":s}),o="drop-down"===s?r.Save:c.Save;return(0,t.createElement)("div",n,!l||l.length<1?null:(0,t.createElement)(o,{attributes:e}))}})}},a={};function l(e){var s=a[e];if(void 0!==s)return s.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,a,s,n)=>{if(!a){var r=1/0;for(i=0;i<e.length;i++){for(var[a,s,n]=e[i],o=!0,c=0;c<a.length;c++)(!1&n||r>=n)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(o=!1,n<r&&(r=n));if(o){e.splice(i--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,s,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={334:0,866:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var s,n,[r,o,c]=a,d=0;if(r.some((t=>0!==e[t]))){for(s in o)l.o(o,s)&&(l.m[s]=o[s]);if(c)var i=c(l)}for(t&&t(a);d<r.length;d++)n=r[d],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(i)},a=globalThis.webpackChunkdecoupled_tabs=globalThis.webpackChunkdecoupled_tabs||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var s=l.O(void 0,[866],(()=>l(917)));s=l.O(s)})();