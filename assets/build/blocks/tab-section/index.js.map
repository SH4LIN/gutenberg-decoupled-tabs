{"version":3,"file":"tab-section/index.js","mappings":"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","sources":["webpack://decoupled-tabs/./assets/src/blocks/tab-section/edit.js","webpack://decoupled-tabs/./assets/src/blocks/tab-section/save.js","webpack://decoupled-tabs/./assets/src/js/hooks/index.js","webpack://decoupled-tabs/./assets/src/js/hooks/use-tabs-selector-attributes.js","webpack://decoupled-tabs/./assets/src/js/hooks/use-tabs-selector-id.js","webpack://decoupled-tabs/./assets/src/js/utils.js","webpack://decoupled-tabs/external window [\"wp\",\"blockEditor\"]","webpack://decoupled-tabs/external window [\"wp\",\"blocks\"]","webpack://decoupled-tabs/external window [\"wp\",\"data\"]","webpack://decoupled-tabs/external window [\"wp\",\"element\"]","webpack://decoupled-tabs/external window [\"wp\",\"i18n\"]","webpack://decoupled-tabs/webpack/bootstrap","webpack://decoupled-tabs/webpack/runtime/compat get default export","webpack://decoupled-tabs/webpack/runtime/define property getters","webpack://decoupled-tabs/webpack/runtime/hasOwnProperty shorthand","webpack://decoupled-tabs/webpack/runtime/make namespace object","webpack://decoupled-tabs/./assets/src/blocks/tab-section/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useBlockProps, store as blockEditorStore, useInnerBlocksProps } from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { isObjectEmpty } from '../../js/utils';\nimport { useTabsSelectorAttributes, useTabsSelectorId } from '../../js/hooks';\n\n/**\n * The edit function describes the structure of your block in the context of the editor.\n *\n * @param {Object}   props               - Properties passed to the block.\n * @param {Function} props.setAttributes - Function to set attributes value.\n * @param {string}   props.clientId      - Client ID\n *\n * @return {JSX.Element} Element to render.\n */\nexport default function Edit( { setAttributes, clientId } ) {\n\tconst blockProps = useBlockProps();\n\tconst { children, ...innerBlockProps } = useInnerBlocksProps(\n\t\tblockProps,\n\t\t{\n\t\t\tallowedBlocks: [ 'decoupled-tabs/tab-content' ],\n\t\t},\n\t);\n\n\tconst [ tabSelectorBlockClientId, setTabSelectorBlockClientId ] = useState( null );\n\tconst [ tabSelectorAttributes, setTabSelectorAttributes ] = useState( null );\n\tconst [ shouldRemoveAllBlocks, setShouldRemoveAllBlocks ] = useState( false );\n\n\tconst { updateBlockAttributes, removeBlocks, insertBlock, replaceInnerBlocks } = useDispatch( blockEditorStore );\n\n\tconst innerBlocks = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( blockEditorStore ).getBlocks( clientId );\n\t\t},\n\t\t[], // eslint-disable-line react-hooks/exhaustive-deps\n\t);\n\n\t/**\n\t * Remove all blocks\n\t *\n\t * @return {void}\n\t */\n\tconst removeAllBlocks = () => {\n\t\treplaceInnerBlocks( clientId, [], false );\n\t};\n\n\tconst newTabSelectorBlockClientId = useTabsSelectorId();\n\tconst newTabSelectorAttributes = useTabsSelectorAttributes( tabSelectorBlockClientId, [ tabSelectorBlockClientId ] );\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif ( areTabsSelectorAttributesChanged( tabSelectorAttributes, newTabSelectorAttributes ) ) {\n\t\t\t\tsetTabSelectorAttributes( newTabSelectorAttributes );\n\t\t\t\tsetAttributes( { defaultTabSection: newTabSelectorAttributes?.defaultTab ?? '' } );\n\t\t\t}\n\t\t},\n\t\t[ newTabSelectorAttributes ], // eslint-disable-line react-hooks/exhaustive-deps\n\t);\n\n\tuseEffect( () => {\n\t\tif ( newTabSelectorBlockClientId === tabSelectorBlockClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetTabSelectorBlockClientId( newTabSelectorBlockClientId );\n\t\tsetShouldRemoveAllBlocks( ! newTabSelectorBlockClientId );\n\t}, [ newTabSelectorBlockClientId ] ); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif ( ! isTabSelectorAttributeAvailable() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( tabSelectorAttributes.tabs.length !== innerBlocks.length ) {\n\t\t\t\tif ( tabSelectorAttributes.tabs.length > innerBlocks.length ) {\n\t\t\t\t\t// Filter the new tabs\n\t\t\t\t\ttabSelectorAttributes.tabs.forEach( ( tab, index ) => {\n\t\t\t\t\t\tif ( ! innerBlocks.find( ( block ) => block.attributes.tabContentId.toLowerCase() === tab.id.toLowerCase() ) ) {\n\t\t\t\t\t\t\tconst newBlock = createBlock(\n\t\t\t\t\t\t\t\t'decoupled-tabs/tab-content',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttabContentId: tab.id,\n\t\t\t\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\t\t\t\tname: `${ tab.name } - ${ __( 'Content', 'decoupled-tabs' ) }`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tinsertBlock( newBlock, index, clientId, false );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t// Filter the tabs to be removed\n\t\t\t\t\tlet tabsToRemove = innerBlocks.filter( ( block ) => {\n\t\t\t\t\t\treturn ! tabSelectorAttributes.tabs.find( ( tab ) => tab.id === block.attributes.tabContentId );\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( ! tabsToRemove?.length ) {\n\t\t\t\t\t\t// Find duplicated tabs.\n\t\t\t\t\t\ttabsToRemove = innerBlocks.filter( ( block, index ) => {\n\t\t\t\t\t\t\treturn innerBlocks.findIndex( ( b ) => b.attributes.tabContentId === block.attributes.tabContentId ) !== index;\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveBlocks( tabsToRemove.map( ( block ) => block.clientId ), false );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinnerBlocks.forEach( ( block ) => {\n\t\t\t\t\tconst tabSection = tabSelectorAttributes.tabs.find( ( tab ) => tab.oldId === block.attributes.tabContentId );\n\n\t\t\t\t\tconst newAttributes = {\n\t\t\t\t\t\t...block.attributes,\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( tabSection ) {\n\t\t\t\t\t\tnewAttributes.tabContentId = tabSection.id;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewAttributes.visible = block.attributes.tabContentId === tabSelectorAttributes.selectedTab;\n\n\t\t\t\t\tupdateBlockAttributes( block.clientId, newAttributes );\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\t[ tabSelectorAttributes, innerBlocks ], // eslint-disable-line react-hooks/exhaustive-deps\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif ( shouldRemoveAllBlocks ) {\n\t\t\t\tremoveAllBlocks();\n\t\t\t}\n\t\t}, [ shouldRemoveAllBlocks ], // eslint-disable-line react-hooks/exhaustive-deps\n\t);\n\n\t/**\n\t * Check if the selected tab section changed.\n\t *\n\t * @param {Object} oldAttributes - Old Attributes\n\t * @param {Object} newAttributes - New Attributes\n\t *\n\t * @return {boolean} - True if selected tab section changed.\n\t */\n\tconst isSelectedTabSectionChanged = ( oldAttributes, newAttributes ) => {\n\t\treturn oldAttributes?.selectedTab !== newAttributes?.selectedTab;\n\t};\n\n\t/**\n\t * Check if the default tab section changed.\n\t *\n\t * @param {Object} oldAttributes - Old Attributes\n\t * @param {Object} newAttributes - New Attributes\n\t *\n\t * @return {boolean} - True if default tab section changed.\n\t */\n\tconst isDefaultTabSectionChanged = ( oldAttributes, newAttributes ) => {\n\t\treturn oldAttributes?.defaultTab !== newAttributes?.defaultTab;\n\t};\n\n\t/**\n\t * Check if the attributes of the tabs selector block has changed\n\t *\n\t * @param {Object} oldAttributes - Old Attributes\n\t * @param {Object} newAttributes - New Attributes\n\t *\n\t * @return {boolean} - True if tabs selector attributes changed or false.\n\t */\n\tconst areTabsSelectorAttributesChanged = ( oldAttributes, newAttributes ) => {\n\t\tif ( newAttributes === oldAttributes ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( ( ! newAttributes && oldAttributes ) || ( newAttributes && ! oldAttributes ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( isSelectedTabSectionChanged( oldAttributes, newAttributes ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( isDefaultTabSectionChanged( oldAttributes, newAttributes ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( oldAttributes.tabs.length !== newAttributes.tabs.length ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tfor ( let i = 0; i < oldAttributes.tabs.length; i++ ) {\n\t\t\tif ( oldAttributes.tabs[ i ].id !== newAttributes.tabs[ i ].id ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n\t * Check if tab selector is available.\n\t *\n\t * @return {boolean} True if tab selector is available.\n\t */\n\tconst isTabSelectorAvailable = () => tabSelectorBlockClientId || newTabSelectorBlockClientId;\n\n\t/**\n\t * Check if tab selector attribute is available.\n\t *\n\t * @return {boolean} True if tab selector attribute is available.\n\t */\n\tconst isTabSelectorAttributeAvailable = () => ! isObjectEmpty( tabSelectorAttributes ) || ! isObjectEmpty( newTabSelectorAttributes );\n\n\t/**\n\t * Check if tabs are available.\n\t *\n\t * @return {boolean} True if tabs are available.\n\t */\n\tconst areTabsAvailable = () => isTabSelectorAttributeAvailable() && ( tabSelectorAttributes?.tabs?.length > 0 || newTabSelectorAttributes?.tabs?.length > 0 );\n\n\t/**\n\t * Tabs conditions.\n\t *\n\t * @return {JSX.Element|null} Element to render.\n\t */\n\tconst tabsConditions = () => {\n\t\tif ( isTabSelectorAvailable() && isTabSelectorAttributeAvailable() ) {\n\t\t\tif ( ! areTabsAvailable() ) {\n\t\t\t\treturn (\n\t\t\t\t\t<p>{ __( 'No tabs sections available.', 'decoupled-tabs' ) }</p>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<p>{ __( 'Please add a tabs selector block to the page.', 'decoupled-tabs' ) }</p>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div { ...innerBlockProps }>\n\t\t\t{ tabsConditions() }\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\n\n/**\n * The save function defines the way in which the different attributes should\n * be combined into the final markup, which is then serialized by the block\n * editor into `post_content`.\n *\n * @return {JSX.Element} Element to render.\n */\nexport default function save() {\n\tconst blockProps = useBlockProps.save();\n\tconst { children, ...innerBlockProps } = useInnerBlocksProps.save( blockProps );\n\n\treturn (\n\t\t<div { ...innerBlockProps } >\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n","/**\n * Dynamic Section selector hooks\n */\nexport { default as useTabsSelectorId } from './use-tabs-selector-id';\nexport { default as useTabsSelectorAttributes } from './use-tabs-selector-attributes';\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Tabs selector attributes hook\n *\n * @param {string} clientId - Block client id\n * @param {Array}  deps     - Dependencies\n *\n * @return {Object} Block attributes\n */\nconst useTabsSelectorAttributes = ( clientId, deps ) => {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\treturn select( blockEditorStore ).getBlockAttributes( clientId );\n\t\t},\n\t\tdeps, // eslint-disable-line react-hooks/exhaustive-deps\n\t);\n};\n\nexport default useTabsSelectorAttributes;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Tabs selector id hook\n *\n * @return {string} Block client id\n */\nconst useTabsSelectorId = () => {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst tabsSelectorBlocks = select( blockEditorStore ).getBlocksByName( 'decoupled-tabs/tabs-selector' );\n\t\t\tif ( tabsSelectorBlocks && tabsSelectorBlocks.length > 0 ) {\n\t\t\t\treturn tabsSelectorBlocks[ 0 ];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t[],\n\t);\n};\n\nexport default useTabsSelectorId;\n","/**\n * Utility functions\n */\n\n/**\n * Check if object is empty.\n *\n * @param {Object} obj - Object tor check.\n *\n * @return {boolean} True if object is empty, false otherwise.\n */\nconst isObjectEmpty = ( obj ) => {\n\tif ( ! obj ) {\n\t\treturn true;\n\t}\n\n\treturn Object.keys( obj ).length === 0 && obj.constructor === Object;\n};\n\n/**\n * Debounce function.\n *\n * @param {Function} func    - Function to debounce.\n * @param {number}   wait    - Wait time.\n * @param {Object}   timeout - Timeout.\n *\n * @return {Function} Debounced function.\n */\nconst debounce = ( func, wait, timeout ) => {\n\treturn ( ...args ) => {\n\t\tconst later = () => {\n\t\t\ttimeout.id = null;\n\t\t\tfunc( ...args );\n\t\t};\n\t\tclearTimeout( timeout.id );\n\t\ttimeout.id = setTimeout( later, wait );\n\t};\n};\n\nexport { isObjectEmpty, debounce };\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\n\nregisterBlockType( 'decoupled-tabs/tab-section', {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n\t/**\n\t * @see ./save.js\n\t */\n\tsave,\n} );\n"],"names":["__","useBlockProps","store","blockEditorStore","useInnerBlocksProps","useSelect","useDispatch","useEffect","useState","createBlock","isObjectEmpty","useTabsSelectorAttributes","useTabsSelectorId","Edit","setAttributes","clientId","blockProps","children","innerBlockProps","allowedBlocks","tabSelectorBlockClientId","setTabSelectorBlockClientId","tabSelectorAttributes","setTabSelectorAttributes","shouldRemoveAllBlocks","setShouldRemoveAllBlocks","updateBlockAttributes","removeBlocks","insertBlock","replaceInnerBlocks","innerBlocks","select","getBlocks","removeAllBlocks","newTabSelectorBlockClientId","newTabSelectorAttributes","areTabsSelectorAttributesChanged","_newTabSelectorAttrib","defaultTabSection","defaultTab","isTabSelectorAttributeAvailable","tabs","length","forEach","tab","index","find","block","attributes","tabContentId","toLowerCase","id","newBlock","visible","metadata","name","tabsToRemove","filter","findIndex","b","map","tabSection","oldId","newAttributes","selectedTab","isSelectedTabSectionChanged","oldAttributes","isDefaultTabSectionChanged","i","isTabSelectorAvailable","areTabsAvailable","tabsConditions","createElement","save","default","deps","getBlockAttributes","tabsSelectorBlocks","getBlocksByName","obj","Object","keys","constructor","debounce","func","wait","timeout","args","later","clearTimeout","setTimeout","registerBlockType","edit"],"sourceRoot":""}